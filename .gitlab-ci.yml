# TypoSentinel GitLab CI Configuration

stages:
  - security-scan

typosentinel-scan:
  stage: security-scan
  image: ubuntu:latest
  
  before_script:
    - apt-get update -qq && apt-get install -y curl
    - curl -sSL https://install.typosentinel.com | bash
    
  script:
    - typosentinel scan --format json --output scan-results.json
    
  artifacts:
    reports:
      security: scan-results.json
    paths:
      - scan-results.json
    expire_in: 1 week
    
  only:
    - main
    - develop
    - merge_requests
